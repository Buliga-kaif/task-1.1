#include <stdio.h>
#include <stdlib.h>  // Для функции exit()
#include <math.h>    // Для функции sqrt()

// Определяем перечислимый тип для выбора формулы
typedef enum {
    PERIMETER,
    AREA
} CalculationType;

void calculate_perimeter(double a, double b) {
    // Формула для нахождения гипотенузы
    double c = sqrt(pow(a, 2) + pow(b, 2));
    // Формула для нахождения периметра
    double perimeter = a + b + c;
    printf("Периметр треугольника: %.2f\n", perimeter);
}

void calculate_area(double a, double b) {
    // Формула для нахождения площади
    double area = 0.5 * a * b;
    printf("Площадь треугольника: %.2f\n", area);
}

int main() {
    double a, b;
    int choice;

    // Ввод длин катетов
    printf("Прямоугольный треугольник:\n");
    printf("Введите длину первого катета: ");
    while (scanf("%lf", &a) != 1 || a <= 0) {
        fflush(stdin);
        printf("Ошибка! Длина должна быть положительным числом.\n");
        printf("Попробуйте снова: ");
    }

    printf("Введите длину второго катета: ");
    while (scanf("%lf", &b) != 1 || b <= 0) {
        fflush(stdin);
        printf("Ошибка! Длина должна быть положительным числом.\n");
        printf("Попробуйте снова: ");
    }

    // Выбор формулы для вычислений
    printf("\nВыберите формулу для вычислений:\n");
    printf(" Периметр\n");
    printf(" Площадь\n");
    while (scanf("%d", &choice) != 1 || (choice != 1 && choice != 2)) {
        fflush(stdin);
        printf("Ошибка! Выберите 1 или 2.\n");
        printf("Попробуйте снова: ");
    }

    // Использование switch-case для вызова нужной функции
    switch (choice) {
    case 1:
        calculate_perimeter(a, b);
        break;
    case 2:
        calculate_area(a, b);
        break;
    default:
        printf("Что-то пошло не так...\n");
        exit(EXIT_FAILURE);
    }

    return 0;
}
